!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t){e.exports=react},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=n(0),r=i(o),a=n(2),l=i(a);n(3);var s=n(4),u=i(s);l.default.render(r.default.createElement(u.default,null),document.getElementById("app"))},function(e,t){e.exports=ReactDOM},function(e,t){},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),u=i(s),h=n(5),f=i(h),d=n(6),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),p=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return a(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(f.default,{target:"1",title:"Panel Test"},u.default.createElement("div",{slot:"center"},"123"))}},{key:"componentDidMount",value:function(){c.init({container:"app",gutter:20,layout:{rows:3,cols:8},panel:{enable:!0,custom:[{panels:[1],headHeight:30}]},dev:{enable:!0,panel:{show:!1}},style:{custom:[{panels:[1],panel:{classname:"popo-panel",css:{border:"5px solid red"}}}]}})}}]),t}(u.default.Component);t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),a(t,[{key:"render",value:function(){return s.default.createElement("div",{"data-popo":this.props.target,title:this.props.title},s.default.Children.map(this.props.children,function(e){var t=e.props,n=t.target,i=t.slotclass,o=t.slotid;return s.default.createElement("div",{"data-popo-target":n||"center",className:i,id:o},e)}))}}]),t}(s.default.Component);t.default=u},function(e,t,n){!function(e,n){n(t)}(0,function(e){"use strict";function t(e){return e._popo_id=e._popo_id||++vn,e._popo_id}function n(e,t){if(!t)return e;var n=Array.prototype.slice,i=n.call(arguments,2);return e.bind?e.bind.apply(e,n.call(arguments,1)):function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}function i(e){for(var t=1,n=arguments.length;t<n;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}function o(e,t,n){return h(e)?h(t)&&e<t?t:h(n)&&e>n?n:e:e}function r(e){return u(e)?e.trim?e.trim():e.replace(/^\s+|\s+$/g,""):e}function a(e){return r(e).split(/\s+/)}function l(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function s(e){return l(e,"Array")}function u(e){return l(e,"String")}function h(e){return l(e,"Number")}function f(e){return l(e,"Function")}function d(e){return l(e,"Object")}function c(e){if(!d(e))return!1;for(var t in e)return!1;return!0}function p(e){return!isNaN(Number(e))}function v(e,t){if(d(t))for(var n in t)d(t[n])?(d(e[n])||(e[n]={}),v(e[n],t[n])):e[n]=t[n];return e}function g(e,t){return s(t)&&t.forEach(function(t){v(e,t)}),e}function m(e,t,n,i){if(e&&e.length&&t)for(var o=0,r=e.length;o<r;o++)if(e[o][t]&&e[o][t]===n)return i?o:e[o]}function _(e,t,n){for(var i=0,o=e.length;i<o;i++)if(void 0!==n&&e[i][t]===n||void 0===n&&e[i]===t)return e.splice(i,1);return[]}function y(e){return e&&"string"==typeof e?document.getElementById(e):e}function E(e){return e instanceof HTMLElement}function w(e){return!!e&&"object"===(void 0===e?"undefined":hn(e))&&1===e.nodeType&&"string"==typeof e.nodeName}function N(e){return d(e)?JSON.parse(JSON.stringify(e)):e}function I(e,t){var n={},i={};for(var o in e)f(e[o])?i[o]=e[o]:n[o]=e[o];var r=v(JSON.parse(JSON.stringify(n)),t);for(var a in i)r[a]=i[a];return r}function b(e,t){return 100*o(e||t||0,0,1)}function x(e){return u(e)?e.charAt(0).toUpperCase()+e.slice(1):e}function O(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function D(e){return!e||e.indexOf("-")<0&&e.indexOf("_")<0?e:e.replace(/[-_][^-_]/g,function(e){return e.charAt(1).toUpperCase()})}function T(e){for(var t=[],n=0,i=e.length;n<i;n++){for(var o=n+1;o<i;o++)e[n]===e[o]&&(o=++n);t.push(e[n])}return t}function S(e){return e.toLowerCase().replace(/( |^)[a-z]/g,function(e){return e.toUpperCase()})}function z(e){return u(e)&&e.indexOf("%")>0||e>=-1&&e<=1}function L(e){if(u(e)){var t=e.indexOf("%");if(t>0)return Number(e.substring(0,t))/100;if(p(e))return Number(e)}return e}function C(e){return 100*e+"%"}function R(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}function k(e,t,n){function i(){r=!1,a&&(o.apply(n,a),a=!1)}function o(){r?a=arguments:(e.apply(n,arguments),setTimeout(i,t),r=!0)}var r=null,a=null;return o}function P(e,t){var n=Math.pow(10,t||5);return Math.round(e*n)/n}function A(e){return h(e)&&!isNaN(e)?e:u(e)?p(e)?Number(e):L(e):0}function M(e,t){if(t=t||1,u(e)){if(e.indexOf("%")>0)return e;if(e.indexOf("px")>0)return H(e)*t+"px";if(p(e))return Number(e)*t+"px"}return p(e)?e*t+"px":"0px"}function W(e,t){return e=A(e),t=t||1,0===e||e<0?e:e<=1&&e>0?t*e:e}function H(e){return u(e)&&e.indexOf("px")>0?(e=r(e),Number(e.substring(0,e.indexOf("px")))):e}function G(e,t){if(t=t||1,e||(e="0 0"),u(e)){var n=a(e).map(function(e){return H(e)});if(s(n)){if(4===n.length)return{top:Number(n[0])*t,right:Number(n[1])*t,bottom:Number(n[2])*t,left:Number(n[3])*t};if(2===n.length)return{top:Number(n[0])*t,right:Number(n[1])*t,bottom:Number(n[0])*t,left:Number(n[1])*t};1===n.length&&(e=Number(e))}}return h(e)&&e>=0?{top:e*t,right:e*t,bottom:e*t,left:e*t}:null}function Z(e,t){if(t=t||1,e&&u(e)){if(e.indexOf("%")>0)return 100*L(e)+"%";if(e.indexOf("px")>0)return Number(H(e))*t+"px"}return p(e)?Number(e)*t+"px":"0px"}function F(e,t){e||(e="0 0"),t=t||1,p(e)&&(e=String(e));var n=[];return u(e)&&(n=a(e),2===n.length&&(n=n.concat([n[0],n[1]])),3===n.length&&n.push(n[2]),1===n.length&&(n=n.concat([n[0],n[0],n[0]]))),4===n.length?{top:Z(n[0],t),right:Z(n[1],t),bottom:Z(n[2],t),left:Z(n[3],t)}:null}function j(e){if(s(e)){var t=e.length;!function t(n){n>=1&&(e[n]===e[n-1]&&e.splice(n,1),t(n-1))}(t-1)}return e}function X(){}function Y(){return"xxxyxxxxxxxxyxxxxxxxxxxyxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}).toLowerCase()}function U(e){return e.uuid=e.uuid||Y(),e.uuid}function B(e,t,n){s(e)&&e.splice(t,0,n)}function K(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function V(e){return gn(e)?void 0===e.className.baseVal?e.className:e.className.baseVal:null}function q(e,t){if(!gn(e)&&!t)return!1;if(void 0!==e.classList)return e.classList.contains(t);var n=V(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function $(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function J(e,t){if(gn(e)&&t)if(void 0!==e.classList)for(var n=a(t),i=0,o=n.length;i<o;i++)e.classList.add(n[i]);else if(!q(e,t)){var r=V(e);$(e,(r?r+" ":"")+t)}}function Q(e,t){gn(e)&&t&&(t=a(t),t.forEach(function(t){if(void 0!==e.classList)e.classList.remove(t);else{var n=V(e);$(e,r((" "+n+" ").replace(" "+t+" "," ")))}}))}function ee(e,t,n){if(gn(e)&&!c(t))for(var i in t){var o=i;n&&o&&(o=D(o),o=K([o,"webkit"+o,"moz"+o,"ms"+o,"o"+o])),o&&null!==t[o]&&void 0!==t[o]&&(e.style[o]=t[o])}}function te(e,t){if(gn(e)&&t){if(u(t))return fe(e,O(t));if(!c(t))return void ee(e,t,!0)}}function ne(e,t,n,i){var o=document.createElement(e||"div");return t&&J(o,t),d(n)&&te(o,n),gn(i)&&i.appendChild(o),o}function ie(e,t){if(gn(e)&&(u(t)&&(e.innerHTML=t),t&&gn(t)&&e.appendChild(t),void 0===t))return e.innerHTML}function oe(e){return gn(e)&&"none"===fe(e,"display")}function re(e){if(u(e)){var t=document.querySelector("head");if(t){var n=t.querySelector("style");if(n)n.innerHTML+=e;else{var i=document.createElement("style"),o=document.querySelector("link");i.type="text/css",i.innerHTML=e,o?t.insertBefore(i,o):t.appendChild(i)}}}}function ae(e,t){Array.prototype.forEach.call((t||document).querySelectorAll("."+e),function(e){gn(e)&&e.parentNode.removeChild(e)})}function le(e,t){Array.prototype.forEach.call((t||document).querySelectorAll("["+Nn.ROLE+'="'+e+'"]'),function(e){gn(e)&&e.parentNode.removeChild(e)})}function se(e,t){return gn(e)&&t&&e.querySelector(t)}function ue(e,t,i){gn(e)&&(t=n(t,i),Array.prototype.forEach.call(e.childNodes,function(e){f(t)&&t(e)}))}function he(e,t,n){if(gn(e)&&void 0!==t){if(void 0===n)return e.getAttribute(t);e.setAttribute(t,n)}}function fe(e,t){if(e&&gn(e)){if(e.currentStyle)return e.currentStyle[t];if(window.getComputedStyle)return window.getComputedStyle(e,null)[t]}return null}function de(e,t){if(e){var n=fe(e,t);if(u(n)){if(n.indexOf("px")>0)return Number(n.substring(0,n.length-2));if(p(n))return Number(n)}}return 0}function ce(e){return gn(e)?e.getBoundingClientRect():null}function pe(e){if(gn(e)){var t=e.getAttribute(Nn.COMPONENT_ID_KEY);if(Number(t)>0)return t}if(d(e)){if(e.getId)return e.getId();if(e.id)return e.id}return e}function ve(){re("/* PoPo Public Style */\n    div["+Nn.POPO+"] {display:none}\n    div["+Nn.TARGET+"] {width:100%;height:100%;}\n    div["+Nn.ROLE+"], div["+Nn.ROLE+"]:after,div["+Nn.ROLE+"]:before{box-sizing: border-box;}\n    div[data-popo-role="+Nn.PANE+"]{transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;}\n    div[data-popo-role="+Nn.GRID_L_C_R+"]{zoom:1;position:relative;}\n    div[data-popo-role="+Nn.GRID_L_C_R+"]:after{content:'';display:block;clear:both;height:0;}\n    div[data-popo-role="+Nn.GRID_LEFT+"],div[data-popo-role="+Nn.GRID_CENTER+"],div[data-popo-role="+Nn.GRID_RIGHT+"]{float:left;position:relative;}\n    div[data-popo-role="+Nn.GRID_FOOT+"],div[data-popo-role="+Nn.GRID_HEAD+"] {position:relative;}\n    ."+Nn.INFO+", ."+Nn.EXT_PANE+"{position:absolute;z-index:100;box-sizing:border-box;}\n    ."+Nn.EXT_PANE+" *{box-sizing:border-box;}\n    ."+Nn.EXT_PANE+"{border:2px solid rgba(0,0,0,0.2);border-radius: 2px;overflow:hidden;}\n    ."+Nn.EXT_PANE+" a, ."+Nn.EXT_PANE+" span{font: bold 18px 'Lucida Console', Monaco, monospace;width:30px;height:30px;text-align:center;display:block;border-bottom:1px solid #bbb;line-height:30px;color:#333;background-color:#ffffff;text-decoration:none;outline:none;}\n    ."+Nn.EXT_PANE+" a:hover{background-color:#f2f2f2;}\n    ."+Nn.EXT_PANE+" span{font-size:11px;}\n    ."+Nn.NAME+"-grab {cursor:-webkit-grab;cursor:-moz-grab;cursor:grab;}\n    ."+Nn.NAME+"-grabbing {cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing;}\n    ")}function ge(e,n,i,o){function r(t){return i.call(o||e,t||window.event)}if(!e)return null;var a=n+t(i)+(o?"{_"+t(o)+"}":"");return e[Pn]&&e[Pn][a]?this:("addEventListener"in e?e.addEventListener(n,r,!1):"attachEvent"in e&&e.attachEvent("on{$type}",r),e[Pn]=e[Pn]||{},e[Pn][a]=r,null)}function me(e,n,i,o){if(!e)return null;var r=n+t(i)+(o?"{_"+t(o)+"}":""),a=e[Pn]&&e[Pn][r];return a?("removeEventListener"in e?e.removeEventListener(n,a,!1):"detachEvent"in e&&e.detachEvent("on"+n,a),e[Pn][r]=null,null):this}function _e(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ye(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Ee(e){return ye(e),_e(e),this}function we(e,t,n,i){if(e&&t){t=a(t);for(var o=0,r=t.length;o<r;o++)ge(e,t[o],n,i)}return this}function Ne(e,t,n,i){if(e)if(t){t=a(t);for(var o=0,r=t.length;o<r;o++)me(e,t[o],n,i)}else{for(var l in e[Pn])me(e,l,e[Pn][l]);delete e[Pn]}}function Ie(e){return kn.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/An:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function be(e){var t=0;return s(e)&&e.forEach(function(e){h(e)&&(t+=e),s(e)&&h(e[0])&&(t+=e[0])}),t}function xe(e){var t=Oe(e);return t<=0?be(e):t}function Oe(e){var t=0;if(s(e))for(var n=0,i=e.length;n<i;n++){if(!h(e[n]))return-1;t+=e[n]}return t}function De(e,t,n,i){function o(e,i){var a="row"===i?n:t;(s(e)||s(e[1]))&&(xe(e[1])>a&&(r=!1),s(e[1])&&e[1].forEach(function(e){s(e)&&o(e,"row"===i?"col":"row")}))}var r=!0,a="row"===i?t:n;if(be(e)>a)r=!1;else for(var l=0,u=e.length;l<u;l++)o(e[l],i);return r}function Te(e,t){if(!e||!t)return null;for(var n=100/e,i=100/t,o={},r=1;r<=e;r++)o[Nn.SINGLE_ROW+"-"+r]=(n*r).toFixed(5);for(var a=1;a<=t;a++)o[Nn.COL+"-"+a]=(i*a).toFixed(5);return o}function Se(e,t,n,i){return h(e)&&e>=1&&e<=(t||Math.max(n,i))}function ze(e,t,n){for(var i=0,o=0,r=e.length;o<r;o++){var a=e[o][0];if(!Se(a,null,t,n))return 0;i+=a}return i}function Le(e,t,n){if(!e||!e.length)return!1;if(!ze(e,t,n))throw new Error(Wn.LY_INVALID);return!0}function Ce(e,t){return e<0?Nn.SINGLE_ROW+"-"+t:Nn.SINGLE_ROW+"-"+e}function Re(e,t){return e<0?t?" "+Nn.ROW:"":Nn.COL+"-"+e+(t?" "+Nn.ROW:"")}function ke(e,t,n,i){n=Math.floor(e/o(n,1,e))||1,i=Math.floor(t/o(i,1,t))||1;for(var r=new Array(Math.floor(e/n)),a=Math.floor(t/i),l=0;l<r.length;l++){r[l]=[n,[]];for(var s=0;s<a;s++)r[l][1].push(i)}return r}function Pe(e,t,n,i){var o=(new Hn).addClassName(t).insertTo(e);return o.type=i,n&&o.setRole(Nn.PANEL),o}function Ae(e,t){function n(e){e.children.forEach(function(e){e.role===Nn.PANEL&&(t.push(e),e.setId(t.length)),e.children.length>0&&n(e)})}n(e)}function Me(e,t,n,i,o){t=t||"row";var r=e[0],a=e[1],l=null,u="";Se(r,null,o,i)&&(u="col"===t?Re(r,!0):Ce(r,i),l=Pe(n,u,!1,"col"===t?"col":"row",r)),l&&(Se(a,null,o,i)?Pe(l,u,!0,t):s(a)?a.forEach(function(e){Se(e,null,o,i)?(u="col"===t?Ce(e,i):Re(e,!0),Pe(l,u,!0,"col"===t?"row":"col",e)):s(e)&&Me(e,"col"===t?"row":"col",l,i,o)}):a||(u="col"===t?Re(-1,!0):Ce(-1,i),Pe(l,u,!0,"col"===t?"row":"col",-1)))}function We(e,t,n,i){function a(e){e.children.forEach(function(e){e.classNames.split(" ").forEach(function(n){if(n=r(n),u.indexOf(n)>=0){if(n.indexOf("-col-")>=0)return void e.setWidth(t[n]);if(n.indexOf("-row-")>=0)return void e.setHeight(t[n])}}),e.children.length>0&&a(e)})}function l(e){d>0&&!c&&(e.height=d>1?d:e.width*d+h*(1-d)),c>0&&!d&&(e.width=c>1?c:e.height*c+h*(1-c)),d>1&&c>1&&(e.height=d,e.width=c)}function s(e){e.children.forEach(function(t){0!==t.width&&(t.width=Number(e.width*t.width/100)),0!==t.height&&(t.height=f&&1===f.col?e.height:Number(e.height*t.height/100)),0===t.width&&0!==e.width&&(t.width=Number(e.width)),0===t.height&&0!==e.height&&(t.height=Number(e.height)),l(t),t.children.length>0&&s(t)})}if(e&&t&&n){var u=Object.keys(t).join(","),h=n.gutter,f=n.freeLy,d=n.fixedHeight||0,c=n.fixedWidth||0;d>0&&(d=o(d,.01)),c>0&&(c=o(c,.01)),a(e);var p=n.padding,v=p.left+p.right,g=p.top+p.bottom,m=n.width,_=n.height;if((!m||!_)&&i){var y=i.parentNode||i,E=y.clientHeight,w=y.clientWidth,N=ce(y),I=E/N.height>1?E:N.height,b=w/N.width>1?w:N.width;0===m&&(i._origionWidth=m=b),0===_&&(i._origionHeight=_=I)}if(ee(i,{width:m+"px"}),m-=v,_-=g,e.children.forEach(function(e){0!==e.width&&(e.width=m*Number(e.width)/100),0!==e.height&&(e.height=_*Number(e.height)/100),0===e.width&&(e.width=m),0===e.height&&(e.height=_),s(e);var t=e.children[0];t&&(d>0&&(e.height=t.height),c>0&&(e.width=t.width))}),e.setWidth(m).setHeight(_),d>0){d<=1&&(d=e.children[0].height);var x=d*n.layout.length;e.setHeight(x),i._origionHeight=x}if(c>0){c<=1&&(c=e.children[0].width);var O=0;O="row"===n.layoutStartType?n.layout[0][1].length:n.layout.length;var D=c*O;e.setWidth(D),i._origionWidth=D}}}function He(e,t,n){function i(e){var t=e.children,n="row"===e.type?e.left:e.top;t.forEach(function(t){"row"===t.type&&"col"===e.type&&(t.left=e.left,t.top=n,n+=t.height),"col"===t.type&&"row"===e.type&&(t.top=e.top,t.left=n,n+=t.width),t.children.length>0&&i(t)})}if(e&&t&&n){var o=0;e.children.forEach(function(e){"row"===e.type&&(e.left=0,e.top=o,o+=e.height),"col"===e.type&&(e.top=0,e.left=o,o+=e.width)}),o=0,n.forEach(function(e){"row"===e.type&&(e.left=0,e.top=o,o+=e.height),"col"===e.type&&(e.top=0,e.left=o,o+=e.width)}),e.children.forEach(function(e){i(e)});var r=t.gutter;n.forEach(function(e){e.setWidth(e.width-r).setHeight(e.height-r).setTop(P(e.top+.5*r,5)).setLeft(P(e.left+.5*r,5)).clearClassName().setRole(Nn.PANEL).setStyle({position:"absolute",zIndex:Nn.PANEL_DEFAULT_ZINDEX}),e.parentNode=null}),e.children=n,e.children.forEach(function(t){t.parentNode=e}),n=null}}function Ge(e){var t=e.layout,n=e.gutter,i=o(e.rows,Nn.MIN_LY_COUNT),r=o(e.cols,Nn.MIN_LY_COUNT),a=e.layoutStartType,l=t;if(u(t)&&"whole"===t.toLocaleLowerCase()&&(l=[[i]]),s(t)&&(0===t.length&&(l=[[i]]),l=t.map(function(e){return h(e)&&(e=[e]),e})),d(t)){var f=o(t.height,0),c=o(t.width,0);if(l=ke(i,r,t.rows,t.cols),(f||c)&&(f>1&&c>0&&c<=1&&(c*=f),f>0&&f<=1&&c>1&&(f*=c),c>1&&(c+=n),f>1&&(f+=n),f>0&&f<=1&&c>0&&c<=1))throw new Error(Wn.LY_FIXED_LESS);e.fixedHeight=f,e.fixedWidth=c,e.freeLy={col:t.cols||e.cols,row:t.rows||e.rows,fh:f,fw:c},e.layoutStartType=a="row"}if(l&&!De(l,i,r,a))throw new Error(Wn.LY_INVALID);return e.layout=l,!0}function Ze(e,t){if(!e||!t||!e.layout)return!1;var n=e.layout,i=e.cols,o=e.rows,r=e.layoutStartType;return!!Le(n,i,o)&&(n.forEach(function(e){Me(e,r,t,o,i)}),!0)}function Fe(e,t,n,i,o){We(e,n,i,t),Ae(e,o),He(e,i,o)}function je(e){var t=e.gutter,n=void 0===t?0:t,i=e.headHeight,o=void 0===i?0:i,r=e.footHeight,a=void 0===r?0:r,l=e.rightWidth,s=void 0===l?0:l,u=e.leftWidth,h=void 0===u?0:u,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=F(n,f),o=M(o,f),a=M(a,f),s=M(s,f),h=M(h,f),{headHeight:o,footHeight:a,rightWidth:s,leftWidth:h,containerHeight:"calc(100% - "+o+" - "+a+" - "+n.top+" - "+n.bottom+")",centerWidth:"calc(100% - "+s+" - "+h+" - "+n.left+" - "+n.right+")",gutter:n}}function Xe(e,t,n){var i=je(t,n),o=i.headHeight,r=i.footHeight,a=i.rightWidth,l=i.leftWidth,s=i.containerHeight,u=i.centerWidth,h=i.gutter,f=null;if("0px"!==o&&"0%"!==o&&(new Hn).setRole(Nn.GRID_HEAD).setHeight(o).insertTo(e),"100%"!==o&&"100%"!==r&&(f=(new Hn).setRole(Nn.GRID_L_C_R).setHeight(s).setStyle({marginBottom:h.bottom,marginTop:h.top}).insertTo(e)),"0px"!==r&&"0%"!==r&&(new Hn).setRole(Nn.GRID_FOOT).setHeight(r).insertTo(e),"0px"!==l&&"0%"!==l){var d=(new Hn).setRole(Nn.GRID_LEFT).setWidth(l);f&&d.insertTo(f)}if(f&&(new Hn).setRole(Nn.GRID_CENTER).setWidth(u).setStyle({marginLeft:h.left,marginRight:h.right}).insertTo(f),"0px"!==a&&"0%"!==a){var c=(new Hn).setRole(Nn.GRID_RIGHT).setWidth(a);f&&c.insertTo(f)}return e}function Ye(e,t,n){e&&t&&!e.queryByRole(Nn.PANEL_CONTAINER)&&Xe((new Hn).setStyle({position:"relative"}).setRole(Nn.PANEL_CONTAINER),t,n||1).insertTo(e)}function Ue(e,t){if(e&&t.panel&&t.panel.enable){var n=t.panel.default,i=t.panel.custom,o=[],r=t.fullId,a=t.fullZIndex;i&&s(i)&&i.forEach(function(n){var i=n.panels;if(h(i)&&(i=[i]),s(i)){var l=[];n.panels=i=T(i),i.forEach(function(t){o.push(t);var n=e.getChild(t);n&&l.push(n)}),l.forEach(function(e){var i=n.zIndex;e.getId()===r&&(i=a),Ye(e,n,t.fontScale),e.setStyle({zIndex:i}).update()})}}),e.children.forEach(function(e){if(R(o,e[Nn.COMPONENT_ID_KEY])<0){var i=n.zIndex;e.getId()===r&&(i=a),Ye(e,n,t.fontScale),e.setStyle({zIndex:i}).update()}})}}function Be(e){var t=e.padding,n=t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px";return(new Hn).setRole(Nn.PANE).setHeight("auto").setStyle({padding:n}).createElement()}function Ke(){return(new Hn).setRole(Nn.CONTAINER).setStyle({position:"relative"})}function Ve(e){return e&&e.createElement()}function qe(e){return e?e.children.map(function(e){return e.getId()}):[]}function $e(e){gn(e)&&[Nn.ZOOMPANE,Nn.ZOOMCONTAINER].forEach(function(t){if(he(e,Nn.ROLE)===t)return void(e._popo_inner=!0)})}function Je(e,t,n,i,o){if(!e||!t||!n)return null;var r=t.left,a=t.top,l=t.right,s=t.bottom,u=e.width+r+l,h=e.height+a+s;if(d(n)){var f=I(Un,n),c=f.position,p=f.size,v=f.id,g=f.zIndex,m=f.layout,_=f.style,y=f.isWidget,E=f.className,w=(new Hn).setRole(Nn.PANEL).setHeight(W(p.height||0,h)).setWidth(W(p.width||0,u)).setTop(W(c.top||0,h)-a).setLeft(W(c.left||0,u)-r).setStyle({position:"absolute",zIndex:g});if(v&&(w.id=v),w[Nn.COMPONENT_ID_KEY]=e.getNewId(),w.isExtend=!0,w.isWidget=y,y&&E&&w.addClassName(E),w.extendInfo={position:{left:w.left/(c.responsive?u:1),top:w.top/(c.responsive?h:1)},size:{width:w.width/(p.responsive?u:1),height:w.height/(p.responsive?h:1)},zIndex:g},m&&d(m)&&o&&Ye(w,m,i),_&&!y){var N=I(Fn.default,_);zt(w,N.panel,!1,!0);for(var b in _){var x=w.queryByRole(b);x&&N[b]&&zt(x,N[b],!1,!0)}}return e.addNode(w),w}return null}function Qe(e,t,n,i){if(e&&n){var o=t;o&&d(o)&&(o=[o]),o&&s(o)&&o.forEach(function(t){Je(e,n.padding,t,n.fontScale,i)})}}function et(e,t){if(e&&t){var n=e.children.filter(function(e){return!0===e.isExtend}),i=t.padding,o=i.left,r=i.top,a=i.right,l=i.bottom,s=e.width+o+a,u=e.height+r+l;n.forEach(function(e){if(d(e.extendInfo)){var t=e.extendInfo,n=t.size,i=t.position,o=W(n.width||0,s),r=W(n.height||0,u);e.setHeight(void 0!==e._oldHeight?e.height:r).setWidth(void 0!==e._oldWidth?e.width:o).setTop(W(void 0!==e._oldTop?e.top:i.top||0,u)).setLeft(W(void 0!==e._oldLeft?e.left:i.left||0,s)).update()}})}}function tt(e,t){if(s(e)&&t){var n=e.slice(0),i=n.filter(function(e){return e&&e.name===t});if(1===i.length)return i[0].id||-1;if(i.length>1)return i.map(function(e){return e.id||-1})[0]}return-1}function nt(e,t){if(s(e)&&t){var n=s(e)&&t&&e.slice(0).filter(function(e){return e&&e.id===t})[0];if(d(n))return n.name}return null}function it(e,t){return isNaN(Number(e))?t&&u(e)?tt(t,e):-1:Number(e)}function ot(e,t,n){return e&&null!==t&&void 0!==t?(e.children.length,"all"===t?qe(e):s(t)?t.map(function(e){return e=it(e,n),e<0?-1:e}):(t=it(t,n),t<0?-1:t)):-1}function rt(e,t){return e?(t=t||Nn.GRID_CENTER,R([Nn.PANEL,Nn.GRID_HEAD,Nn.GRID_CENTER,Nn.GRID_LEFT,Nn.GRID_RIGHT,Nn.GRID_L_C_R,Nn.PANEL_CONTAINER,Nn.GRID_FOOT],t)<0?null:t===Nn.PANEL?e:e.queryByRole(t)):null}function at(e){return e?{panel:e,head:rt(e,Nn.GRID_HEAD),left:rt(e,Nn.GRID_LEFT),right:rt(e,Nn.GRID_RIGHT),center:rt(e,Nn.GRID_CENTER),panelContainer:rt(e,Nn.PANEL_CONTAINER),lcr:rt(e,Nn.GRID_L_C_R),foot:rt(e,Nn.GRID_FOOT)}:null}function lt(e,t,n){if(e){var i=at(e);if(d(i)){var o=i.head,r=i.foot,a=i.left,l=i.right,s=i.center,u=i.lcr,h=i.panelContainer;return{panel:e.realDom,panelContainer:h&&h.realDom,lcr:u&&u.realDom,head:o&&o.realDom,foot:r&&r.realDom,left:a&&a.realDom,center:s&&s.realDom,right:l&&l.realDom,id:t||e.getId(),isExtend:e.isExtend,alias:nt(n.alias,t),size:{width:P(e.width,5),height:P(e.height,5)},position:{top:P(e.top,5),left:P(e.left,5),zIndex:e.styles.zIndex}}}}return null}function st(e,t,n){var i=it(t,n.alias);return lt(e.getChild(i),i,n)}function ut(e,t,n){if(!e||!t||t<=0)return null;var i=e.getChild(t);return i?rt(i,n||Nn.GRID_CENTER):null}function ht(e){if(h(e))return e+"px";if(u(e)){if(e.indexOf("px")<0||e.indexOf("em")>0)return e;if(!isNaN(Number(e)))return e+"px"}return e}function ft(e){if(u(e)){var t=e.indexOf("px");if(t>=0)return Number(e.substring(0,t))}return h(e)?e:0}function dt(e,t){if(e&&gn(e.realDom)&&t&&t.show){ae(Nn.PANEL_GUIDELINES,e.realDom);var n=se(e.realDom,"."+Nn.GUIDELINES),i=e.width,o=e.height,r=t.zIndex,a=t.size||15,l=t.color,s=t.lineSize,u=new Yn,h=ne("div",Nn.PANEL_GUIDELINES,{zIndex:r,height:o+"px",width:i+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},e.realDom);gn(n)&&e.realDom.removeChild(n);for(var f=Math.ceil(o/a),d=Math.ceil(i/a),c="",p="",v=1;v<=f;v++){var g=a*v;c+="M0 "+g+" L"+i+" "+g+" "}for(var m=1;m<=d;m++){var _=a*m;c+="M"+_+" 0 L"+_+" "+o+" "}f=Math.ceil(o/a/4),d=Math.ceil(i/a/4);for(var y=1;y<=f;y++){var E=a*y*4;p+="M0 "+E+" L"+i+" "+E+" "}for(var w=1;w<=d;w++){var N=a*w*4;p+="M"+N+" 0 L"+N+" "+o+" "}u.create("path",{d:c,stroke:l,strokeWidth:s}),u.create("path",{d:p,stroke:l,strokeWidth:1.5*s}),h.appendChild(u.createElement())}}function ct(e,t){if(e&&t&&t.dev&&t.dev.enable&&t.dev.panelGuideline.show){var n=t.dev.panelGuideline,i=I({color:"rgba(0,0,0,.25)",width:1,size:10,zIndex:0},n||{}),o=n.ids;"all"===o&&(o=qe(e)),h(o)&&(o=[o]),s(o)&&o.forEach(function(n){if((n=ot(e,n,t.alias))>0){var o=e.getChild(n);o&&o.realDom&&dt(o,i)}})}}function pt(e,t,n,i,o,r){if(r=ht(r),e&&e.realDom){var a=Math.round(e.width),l=Math.round(e.height),s=Math.round(e.left),u=Math.round(e.top);if(t||n||i){var h="";return n&&(h+=e[Nn.COMPONENT_ID_KEY]),t&&(h+=(n?" - ":"")+" W"+a+" H"+l),i&&(h+=(n||t?" - ":"")+" L"+s+" T"+u),new Hn("span").addClassName(Nn.INFO).setTop(e.top+5).setLeft(e.left+5).setWidth("auto").setHeight("auto").setStyle({color:o,fontSize:r}).setHtml(h)}}return null}function vt(e,t){if(e&&t&&t.enable&&t.panel.show){var n=t.panel,i=n.id,o=n.size,r=n.position,a=n.background,l=ht(n.fontSize),s=n.fontColor;if(e.realDom&&(i||o||r||a))for(var h=0,f=e.children.length;h<f;h++)if(e.children[h].realDom&&a&&u(a)&&te(e.children[h].realDom,{background:a}),!e.children[h].isWidget){var d=pt(e.children[h],o,i,r,s,l);d&&e.realDom.appendChild(d.createElement())}}}function gt(e,t,n,i,o,r){e&&e.create("text",{x:n,y:i,fontSize:o,fill:r}).setHtml(t)}function mt(e,t,n){if(e&&t&&n&&n.dev.guideline.show){ae(Nn.GUIDELINES,e);var i=n.dev.guideline,o=n.padding,r=t.width+o.left+o.right,a=t.height+o.top+o.bottom,l=i.identifier,s=i.fontSize,u=i.fontColor,h=i.zIndex,f=n.rows,d=n.cols,c=(100/f).toFixed(5)*a/100,p=(100/d).toFixed(5)*r/100,v=new Yn,g=ne("div",Nn.GUIDELINES,{zIndex:h,height:a+"px",width:r+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},e),m=e.style.position;""!==m&&"static"!==m||te(e,{position:"relative"});for(var _="",y=0;y<=f;y++){var E=c*y;_+="M0 "+E+" L"+r+" "+E+" ",l&&gt(v,y,5,E-c+ft(s)+5,s,u)}for(var w=0;w<=d;w++){var N=p*w;_+="M"+N+" 0 L"+N+" "+a+" ",l&&1!==w&&gt(v,w,N-p+5,ft(s)+5,s,u)}v.create("path",{d:_,stroke:i.color,strokeWidth:i.lineSize}),g.appendChild(v.createElement())}}function _t(e,t,n){if(e&&t&&n&&n.dev.splitline.show){ae(Nn.SPLITLINES,e);var i=n.dev.splitline,o=ht(i.fontSize),r=i.fontColor,a=n.padding,l=i.identifier,s=t.width+a.left+a.right,u=t.height+a.top+a.bottom,h=i.height,f=i.width,d=i.zIndex,c=Math.ceil(u/h),p=Math.ceil(s/f),v=ne("div",Nn.SPLITLINES,{zIndex:d,height:u+"px",width:s+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},e),g=new Yn,m=e.style.position,_=[],y=[];""!==m&&"static"!==m||te(e,{position:"relative"});for(var E="",w=0;w<=c;w++){var N=h*w;E+="M0 "+N+" L"+s+" "+N+" ",_.push(N)}for(var I=0;I<=p;I++){var b=f*I;E+="M"+b+" 0 L"+b+" "+u+" ",y.push(b)}l&&y.forEach(function(e){_.forEach(function(t){gt(g,e+", "+t,e+10,t+10+ft(o),o,r)})}),g.create("path",{d:E,stroke:i.color,strokeWidth:i.lineSize}),v.appendChild(g.createElement())}}function yt(e,t,n){return!!(t&&e&&n&&n.dev&&n.dev.enable)&&(ae(Nn.INFO,e),vt(t,n.dev),mt(e,t,n),_t(e,t,n),ct(t,n),!0)}function Et(e,t,n,i){if(e&&t){var o=i?n.hideType:n.hideType||"panel";h(e)&&(e=[e]),s(e)&&e.forEach(function(e){var i=ut(t,ot(t,e,n.alias),o);i&&(i.realDom?te(i.realDom,{display:"none"}):i.setStyle({display:"none"}))})}}function wt(e,t){if(!e||!t||q(e,Nn.ZOOMCONTAINER))return null;var n=t.zoom,i=(new Hn).setRole(Nn.ZOOMCONTAINER),o=(new Hn).setRole(Nn.ZOOMPANE).addNode(i).createElement();if(e.appendChild(o),n.enable&&n.control){var r=(new Hn).addClassName(Nn.EXT_PANE).setRole(Nn.EXT_PANE).setWidth(34).setHeight(94).setHtml("\n            <a class='"+Nn.ZOOMIN+"' href='javascript:;' title='Zoom in'>+</a>\n            <span class='"+Nn.ZOOMINFO+"' title='Current Scale'></span>\n            <a class='"+Nn.ZOOMOUT+"' href='javascript:;' title='Zoom out'>-</a>").createElement(),a="10px";switch(n.position){case"leftTop":te(r,{top:a,left:a});break;case"leftBottom":te(r,{bottom:a,left:a});break;case"rightBottom":te(r,{bottom:a,right:a});break;default:te(r,{right:a,top:a})}e.appendChild(r)}return i.realDom}function Nt(e){return e&&e._popo_inner}function It(e,t,i,o){e&&(i&&"all"!==i||(i=qe(e)),h(i)&&(i=[i]),s(i)&&i.length>0&&i.forEach(function(i){var r=e.getChild(i);r&&(o&&(t=n(t,o)),t(at(r)))}))}function bt(e,t){var n=e||[];if(h(n)&&(n=[n]),n.length>0){var i=!1;if(n.forEach(function(e){var n=R(t,e);n>=0&&(t.splice(n,1),i=!0)}),i)return t}return null}function xt(e,t,i,o,r){e&&t&&f(i)&&("all"===o&&(o=qe(e)),h(o)&&(o=[o]),s(o)&&o.length>0&&o.forEach(function(o){if((o=it(o,t.alias))>0){var a=e.getChild(o);if(a&&gn(a.realDom)){var l=lt(a,o,t);if(r&&(i=n(i,r)),!1===i(l))return}}}))}function Ot(e,t,n){if(t>0&&e){var i=e.getChild(t);if(i)return i.oldSize={zIndex:i.styles.zIndex,width:i.width,height:i.height,top:i.top,left:i.left},i.setWidth(e.width).setHeight(e.height).setTop(0).setLeft(0).setStyle({zIndex:n}).update(),!0}return!1}function Dt(e,t){if(h(t)&&t>0){var n=e.getChild(t);if(n&&n.oldSize&&n.realDom)return n.setStyle({zIndex:n.oldSize.zIndex||1}),n.width=n.oldSize.width,n.height=n.oldSize.height,n.top=n.oldSize.top,n.left=n.oldSize.left,n.update(),n.oldSize=null,!0}return!1}function Tt(e,t){if(e&&t){var n="",i=null;if(u(t)&&(n=t),d(t)&&!c(t)&&(t.classname&&u(t.classname)&&(n=t.classname),d(t.css)&&!c(t.css)&&(i=N(t.css)),t.classname||t.css||(i=N(t))),n&&(gn(e)?Q(e,n):(e.removeClassName(n),e.realDom&&Q(e.realDom,n))),i){for(var o in i)i[o]="";gn(e)?te(e,i):(e.setStyle(i),e.realDom&&te(e.realDom,i))}!gn(e)&&e.update&&e.update()}}function St(e,t,n,i){if(d(i)){var o=i.container,r=i.custom,a=i.default;o&&Tt(e,o),d(a)&&t.children.forEach(function(e){for(var t in a){var n=at(e)[t];n&&Tt(n,a[t])}}),(s(r)?r:[r]).forEach(function(e){d(e)&&e.panels&&It(t,function(t){for(var n in e)e[n]&&t[n]&&Tt(t[n],e[n])},ot(t,e.panels,n.alias))}),t.update()}}function zt(e,t,n,i){if(e&&t){var o="",r=null;u(t)&&(o=t),d(t)&&!c(t)&&(t.classname&&u(t.classname)&&(o=t.classname),d(t.css)&&!c(t.css)&&(r=t.css),t.classname||t.css||(r=t)),o&&(gn(e)?n&&(i?$(e,o):J(e,o)):(i?e.setClassName(o):e.addClassName(o),n&&e.realDom&&(i?$(e.realDom,o):J(e.realDom,o)))),r&&(gn(e)?n&&te(e,r):(e.setStyle(r),n&&e.realDom&&te(e.realDom,r))),!gn(e)&&e.update&&e.update()}}function Lt(e,t,n,i,o,r,a,l){if(t&&o){var u=a||{},h=u.custom,f=u.inner,c=u.zoomContainer,p=u.zoomPane,v=u.pane,g=u.container,m=u.default;g&&l&&zt(e,g,!0),f&&zt(t,f),c&&zt(n,c,!0),p&&zt(i,p,!0),v&&zt(r,v,!0),d(m)&&t.children.forEach(function(e){if(!e.isWidget)for(var t in m)zt(at(e)[t],m[t],!0)}),h&&(s(h)?h:[h]).forEach(function(e){d(e)&&e.panels&&It(t,function(t){for(var n in e)e[n]&&t[n]&&!t[n].isExtend&&zt(t[n],e[n],!0,!0)},ot(t,e.panels,o.alias))})}}function Ct(e,t,n,i,o){return void 0!==e?null!==t?t*o:n:i}function Rt(e,t,n,i,o){if((void 0!==t.width||null!==t.width)&&!e.isExtend){var r=e._oldWidth,a=e._oldHeight,l=e._oldTop,s=e._oldLeft,u=e.width,h=e.height,f=e.top,d=e.left,c=e.percentWidth,p=e.percentHeight,v=e.percentLeft,g=e.percentTop;e.setHeight(Ct(a,p,h,t.height,n.height)).setWidth(Ct(r,c,u,t.width,n.width)).setTop(Ct(l,g,f,t.top,n.height)).setLeft(Ct(s,v,d,t.left,n.width))}t.oldSize&&(e.oldSize=t.oldSize,e.setStyle({zIndex:t.styles.zIndex||Nn.PANEL_DEFAULT_ZINDEX})),i>0&&e.getId()===i&&e.setLeft(0).setTop(0).setStyle({zIndex:o})}function kt(e,t,n,i,o,r){Rt(e,t,n,o,r),e.children.forEach(function(i){t.children.forEach(function(t){i.getId()===t.getId()&&e.getRole()!==Nn.PANEL&&Rt(i,t,n,o,r)})})}function Pt(e,t,n){e&&t&&n&&(h(t)&&(t=[t]),s(t)&&t.forEach(function(t){var i=ut(e,t,"wrap"),o=null;i&&("auto"!==n&&"visible"!==n||(o={overflow:n}),"overflowX"!==n&&"overflowY"!==n||(o[n]="auto"),i.setStyle(o).update())}))}function At(e,t){if(e&&t&&t.panelOverflow){var n=t.panelOverflow;if(n)for(var i in n)"all"===n[i]&&(n[i]=qe(e)),(h(n[i])||s(n[i]))&&Pt(e,n[i],i)}}function Mt(e,t){var n=t.padding,i=n.left,o=n.right,r=n.bottom,a=n.top;return{width:e.width+i+o,height:e.height+a+r}}function Wt(e,t,n,i,o,r){if(e&&gn(t)&&n&&i){var a=Ke(),l=[],s=[];Ze(i,a),Fe(a,t,n,i,l,s),Qe(a,i,!1),o&&Ot(a,o,r||0),kt(e,a,Mt(a,i),i,o,r),et(e,i),e.update(),i.dev.enable&&yt(t,e,i),Gt(e,i.lineHeight)}}function Ht(e){if(e&&e.realDom){var t=e.realDom,n=de(t,"height")||t.clientHeight,i=de(t,"padding-top"),o=de(t,"padding-bottom"),r=de(t,"border-top-width"),a=de(t,"border-bottom-width");e.setStyle({lineHeight:n-i-o-r-a+"px"}).update()}}function Gt(e,t){if(e&&t){var n=d(t)?[t]:t;s(n)&&n.forEach(function(t){var n=t.panels,i=t.type||"head";h(n)&&(n=[n]),u(n)&&"all"===n&&(n=qe(e)),s(n)&&It(e,function(e){(s(i)?i:[i]).forEach(function(t){u(t)&&e&&("all"===t?["head","center","right","foot","left"].forEach(function(t){Ht(e[t])}):Ht(e[t]))})},n)})}}function Zt(e,t,n){gn(e)&&he(e,Nn.TARGET)===n&&t&&t.realDom&&t.realDom.appendChild(e)}function Ft(e,t,n){if(gn(e)&&t&&gn(t.realDom)&&n){var i=n.env;ue(e,function(e){if(gn(e)&&e.hasAttribute(Nn.POPO)){var o=ot(t,e.getAttribute(Nn.POPO),n.alias),r=ut(t,o,"panel"),a=e.getAttribute("title"),l=e.getAttribute("class");if(r&&r.realDom){var s=at(r);J(r.realDom,l);for(var u=e.childNodes,h=0,f=u.length;h<f;h++){var d=u["vue"===i?0:h],c=he(d,Nn.TARGET);c&&s[c]&&Zt(d,s[c],c)}!se(e,"["+Nn.TARGET+"=head]")&&a&&s.head&&s.head.realDom&&!s.head.realDom.hasChildNodes()&&(s.head.realDom.innerHTML=a)}}})}}function jt(e,t,n,i){e&&gn(e.realDom)&&gn(t)&&n&&i&&ue(t,function(t){if(gn(t)&&t.hasAttribute(Nn.POPO)){var o=ot(n,t.getAttribute(Nn.POPO),i.alias);if(e.getId()===o){var r=at(e);for(var a in r)if(r[a]&&r[a].realDom){var l=r[a].realDom.firstChild;gn(l)&&a===l.getAttribute(Nn.TARGET)&&t.appendChild(l)}return!1}}return!0})}function Xt(e,t,n){gn(e)&&t&&gn(t.realDom)&&n&&ue(e,function(e){if(gn(e)&&e.hasAttribute(Nn.POPO)){var i=ot(t,e.getAttribute(Nn.POPO),n.alias),o=ut(t,i,"panel");if(o&&o.realDom){var r=at(o);for(var a in r)if(r[a]&&r[a].realDom){var l=r[a].realDom.firstChild;gn(l)&&a===l.getAttribute(Nn.TPL)&&(l.removeAttribute(Nn.TPL),J(l,a),e.appendChild(l))}}}})}function Yt(e,t,n){var i=e.zoom.enable?t.parentNode.parentNode:t.parentNode;return n&&gn(i)&&(i.scrollLeft=0,i.scrollTop=0),i}function Ut(e,t,n,i,o,r){if(e&&t&&n&&!(!i<0)){var a=ut(e,it(i,n.alias),"panel");if(a){var l=Yt(n,t,!0),s=n.zoom.enable?n.zoom.scale:1;l&&gn(l)&&(l.scrollLeft=(a.left+o)*s,l.scrollTop=(a.top+r)*s)}}}function Bt(e,t,n){if(e&&t&&n){var i=ce(t.parentNode.parentNode),o=t._origionWidth||e.width,r=t._origionHeight||e.height,a=(i.height-r*n)/2,l=(i.width-o*n)/2;(a<0||1===n)&&(a=0),(l<0||1===n)&&(l=0),te(t.parentNode,{paddingTop:a+"px",paddingLeft:l+"px"})}}function Kt(e,t){var n=t?"":"none";ue(e,function(e){gn(e)&&e.getAttribute(Nn.POPO)&&te(e,{display:n})})}function Vt(e){if(h(e))return e+"px";if(u(e)){if(e.indexOf("px")<0||e.indexOf("em")>0)return e;if(!isNaN(Number(e)))return e+"px"}return e}function qt(e){if(u(e)){var t=e.indexOf("px");if(t>=0)return Number(e.substring(0,t))}return h(e)?e:0}function $t(e,t){if(e&&gn(e.realDom)&&t&&t.show){ae(Nn.PANEL_GUIDELINES,e.realDom);var n=se(e.realDom,"."+Nn.GUIDELINES),i=e.width,o=e.height,r=t.zIndex,a=t.size||15,l=t.color,s=t.lineSize,u=new Yn,h=ne("div",Nn.PANEL_GUIDELINES,{zIndex:r,height:o+"px",width:i+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},e.realDom);gn(n)&&e.realDom.removeChild(n);for(var f=Math.ceil(o/a),d=Math.ceil(i/a),c="",p="",v=1;v<=f;v++){var g=a*v;c+="M0 "+g+" L"+i+" "+g+" "}for(var m=1;m<=d;m++){var _=a*m;c+="M"+_+" 0 L"+_+" "+o+" "}f=Math.ceil(o/a/4),d=Math.ceil(i/a/4);for(var y=1;y<=f;y++){var E=a*y*4;p+="M0 "+E+" L"+i+" "+E+" "}for(var w=1;w<=d;w++){var N=a*w*4;p+="M"+N+" 0 L"+N+" "+o+" "}u.create("path",{d:c,stroke:l,strokeWidth:s}),u.create("path",{d:p,stroke:l,strokeWidth:1.5*s}),h.appendChild(u.createElement())}}function Jt(e,t){if(e&&t&&t.dev&&t.dev.enable&&t.dev.panelGuideline.show){var n=t.dev.panelGuideline,i=I({color:"rgba(0,0,0,.25)",width:1,size:10,zIndex:0},n||{}),o=n.ids;"all"===o&&(o=qe(e)),h(o)&&(o=[o]),s(o)&&o.forEach(function(n){if((n=ot(e,n,t.alias))>0){var o=e.getChild(n);o&&o.realDom&&$t(o,i)}})}}function Qt(e,t,n,i,o,r){if(r=Vt(r),e&&e.realDom){var a=Math.round(e.width),l=Math.round(e.height),s=Math.round(e.left),u=Math.round(e.top);if(t||n||i){var h="";return n&&(h+=e[Nn.COMPONENT_ID_KEY]),t&&(h+=(n?" - ":"")+" W"+a+" H"+l),i&&(h+=(n||t?" - ":"")+" L"+s+" T"+u),new Hn("span").addClassName(Nn.INFO).setTop(e.top+5).setLeft(e.left+5).setWidth("auto").setHeight("auto").setStyle({color:o,fontSize:r}).setHtml(h)}}return null}function en(e,t){if(e&&t&&t.enable&&t.panel.show){var n=t.panel,i=n.id,o=n.size,r=n.position,a=n.background,l=Vt(n.fontSize),s=n.fontColor;if(e.realDom&&(i||o||r||a))for(var h=0,f=e.children.length;h<f;h++)if(e.children[h].realDom&&a&&u(a)&&te(e.children[h].realDom,{background:a}),!e.children[h].isWidget){var d=Qt(e.children[h],o,i,r,s,l);d&&e.realDom.appendChild(d.createElement())}}}function tn(e,t,n,i,o,r){e&&e.create("text",{x:n,y:i,fontSize:o,fill:r}).setHtml(t)}function nn(e,t,n){if(e&&t&&n&&n.dev.guideline.show){ae(Nn.GUIDELINES,e);var i=n.dev.guideline,o=n.padding,r=t.width+o.left+o.right,a=t.height+o.top+o.bottom,l=i.identifier,s=i.fontSize,u=i.fontColor,h=i.zIndex,f=n.rows,d=n.cols,c=(100/f).toFixed(5)*a/100,p=(100/d).toFixed(5)*r/100,v=new Yn,g=ne("div",Nn.GUIDELINES,{zIndex:h,height:a+"px",width:r+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},e),m=e.style.position;""!==m&&"static"!==m||te(e,{position:"relative"});for(var _="",y=0;y<=f;y++){var E=c*y;_+="M0 "+E+" L"+r+" "+E+" ",l&&tn(v,y,5,E-c+qt(s)+5,s,u)}for(var w=0;w<=d;w++){var N=p*w;_+="M"+N+" 0 L"+N+" "+a+" ",l&&1!==w&&tn(v,w,N-p+5,qt(s)+5,s,u)}v.create("path",{d:_,stroke:i.color,strokeWidth:i.lineSize}),g.appendChild(v.createElement())}}function on(e,t,n){if(e&&t&&n&&n.dev.splitline.show){ae(Nn.SPLITLINES,e);var i=n.dev.splitline,o=Vt(i.fontSize),r=i.fontColor,a=n.padding,l=i.identifier,s=t.width+a.left+a.right,u=t.height+a.top+a.bottom,h=i.height,f=i.width,d=i.zIndex,c=Math.ceil(u/h),p=Math.ceil(s/f),v=ne("div",Nn.SPLITLINES,{zIndex:d,height:u+"px",width:s+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},e),g=new Yn,m=e.style.position,_=[],y=[];""!==m&&"static"!==m||te(e,{position:"relative"});for(var E="",w=0;w<=c;w++){var N=h*w;E+="M0 "+N+" L"+s+" "+N+" ",_.push(N)}for(var I=0;I<=p;I++){var b=f*I;E+="M"+b+" 0 L"+b+" "+u+" ",y.push(b)}l&&y.forEach(function(e){_.forEach(function(t){tn(g,e+", "+t,e+10,t+10+qt(o),o,r)})}),g.create("path",{d:E,stroke:i.color,strokeWidth:i.lineSize}),v.appendChild(g.createElement())}}function rn(e,t,n){return!!(t&&e&&n&&n.dev&&n.dev.enable)&&(ae(Nn.INFO,e),en(t,n.dev),nn(e,t,n),on(e,t,n),Jt(t,n),!0)}function an(e){var t=e.container,n=null;if(t){var i=y(t);if(!gn(i))throw new Error(Wn.CONTAINER_ERR);if(m($n,"container",i))throw new Error(Wn.POPO_EXSIT)}return n=new qn(e),$n.push(n),n}function ln(e){var t=y(e);return gn(t)?m($n,"container",t):null}function sn(e){if(e){if(e instanceof qn){var t=R($n,e);t>=0&&($n.splice(t,1),e.remove())}if(e&&(u(e)||gn(e))){var n=y(e);if(gn(n)){var i=_($n,"container",n);i&&i[0]&&i[0].remove&&i[0].remove()}}}}function un(){return window&&ui&&(window.P=ui),this}var hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fn=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},dn=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),cn=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},pn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},vn=0,gn="object"===("undefined"==typeof HTMLElement?"undefined":hn(HTMLElement))?E:w,mn=function(e,t,n){return e[t]=e.splice(n,1,e[t])[0],e},_n=function(e,t){e.length<2||e.unshift(e.splice(t,1)[0])},yn=function(e,t){e.length<2||e.push(e.splice(t,1)[0])},En=Object.freeze({stamp:t,bind:n,extend:i,legalNumber:o,trim:r,splitWords:a,isArray:s,isString:u,isNumber:h,isFunction:f,isObject:d,isEmptyObject:c,validateNumber:p,mixin:v,mixins:g,getObjectFromArray:m,removeObjectFromArray:_,get:y,isDOM:gn,cloneJsonObject:N,merge:I,getPercentage:b,capitalize:x,reverseCamelcase:O,camelize:D,unique:T,firstUpperCase:S,isPercentage:z,translatePercentage:L,translateNumberToPercentage:C,contain:R,throttle:k,formatNum:P,formatNumber:A,getCssSize:M,multiplyBy:W,getPureValue:H,formatMargin:G,formatMargin2:F,distinct:j,NullFn:X,guid:Y,stampUUID:U,swapArrItems:mn,moveToFirst:_n,moveToLast:yn,insertToArr:B}),wn="popo",Nn={MIN_LY_COUNT:1,COLS:24,ROWS:12,PANEL_DEFAULT_ZINDEX:1,NAME:wn,POPO:"data-"+wn,ROLE:"data-popo-role",TARGET:"data-popo-target",COMPONENT_ID_KEY:"data-popo-id",EXT_PANE:wn+"-ext-pane",PANE:"pane",CONTAINER:"container",PANEL:"panel",PANEL_CONTAINER:"panel-container",WRAP:"wrap",GRID_L_C_R:"lcr",GRID_HEAD:"head",GRID_CENTER:"center",GRID_LEFT:"left",GRID_RIGHT:"right",GRID_FOOT:"foot",SINGLE_ROW:wn+"-s-row",ROW:wn+"-row",COL:wn+"-col",INFO:wn+"-dev-info",GUIDELINES:wn+"-guideline",PANEL_GUIDELINES:wn+"-panel-guideline",SPLITLINES:wn+"-splitline",ZOOMPANE:"zoom-pane",ZOOMCONTAINER:"zoom-container",ATTRIBUTTION:wn+"-attribution",ZOOMIN:wn+"-ct-zoom-in",ZOOMOUT:wn+"-ct-zoom-out",ZOOMINFO:wn+"-ct-zoom-info",TPL:"data-popo-tpl",DRAW_ID_KEY:wn+"-ts",LINE:"l",PATH:"p",CIRCLE:"c",FILTER:"f",MARKER:"m",LINER_GRADIENT:"lg",RADIAL_GRADIENT:"rg",BORDER:"b",EVENT:"_popo_event"},In=K(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),bn=K(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),xn="webkitTransition"===bn||"OTransition"===bn?bn+"End":"transitionend";ve();var On=Object.freeze({testProp:K,TRANSFORM:In,TRANSITION:bn,TRANSITION_END:xn,getClass:V,hasClass:q,setClass:$,addClass:J,removeClass:Q,setStyle:ee,css:te,create:ne,html:ie,isHidden:oe,removeByClass:ae,removeByRole:le,query:se,eachChild:ue,attr:he,getStyle:fe,getPureStyle:de,getRect:ce,getTargetDataId:pe,createPublicStyle:ve}),Dn=navigator.userAgent.toLowerCase(),Tn=document.documentElement,Sn=window.innerWidth||Tn.clientWidth||document.body.clientWidth,zn=window.innerHeight||Tn.clientHeight||document.body.clientHeight,Ln="ActiveXObject"in window,Cn=-1!==Dn.indexOf("webkit"),Rn="undefined"!=typeof orientation||-1!==Dn.indexOf("mobile"),kn={ie:Ln,width:Sn,height:zn,aspectRatio:Sn/zn,webkit:Cn,mobile:Rn},Pn=Nn.EVENT,An=kn.win&&kn.chrome?2*window.devicePixelRatio:kn.gecko?window.devicePixelRatio:1,Mn=Object.freeze({stopPropagation:_e,preventDefault:ye,stop:Ee,on:we,off:Ne,getWheelDelta:Ie}),Wn={POPO_EXSIT:"The target container has been initialized by popo.",CONTAINER_ERR:"The target container was not found",LY_INVALID:"Layout array is invalid.",LY_FIXED_LESS:"Fixed height and fixed width shall not be less than 1 at the same time."},Hn=function(){function e(n){fn(this,e),this.nodeName=n||"div",this.width=0,this.height=0,this.classNames="",this.children=[],this.styles={},this.parentNode=null,this.html="",this.role="",this.isExtend=!1,t(this)}return dn(e,[{key:"addClassName",value:function(e){var t=this;if(u(e)){if(""===this.classNames)return this.classNames=e,this;var n=a(this.classNames);a(e).forEach(function(e){R(n,e)<0&&(t.classNames+=" "+e)})}return this}},{key:"removeClassName",value:function(e){if(u(e)){var t=a(this.classNames),n=R(t,e);n>=0&&(t[n]="",this.classNames=t.join(" "))}return this}},{key:"clearClassName",value:function(){return this.classNames="",this}},{key:"setClassName",value:function(e){return e&&u(e)&&(this.classNames=e),this}},{key:"getChild",value:function(e){return h(e)||(e=Number(e)),!isNaN(e)&&e>0?m(this.children,Nn.COMPONENT_ID_KEY,e):null}},{key:"setRole",value:function(e){return this.role=e,this}},{key:"getRole",value:function(){return this.role}},{key:"queryByRole",value:function(e){function t(i){return i&&i.children.length>0&&i.children.forEach(function(i){if(i.role===e)return void(n=i);t(i)}),n}var n=null;return t(this)}},{key:"setId",value:function(e){return this[Nn.COMPONENT_ID_KEY]=e,this}},{key:"getId",value:function(){return this[Nn.COMPONENT_ID_KEY]}},{key:"setWidth",value:function(e){return this.width=e,this}},{key:"setHeight",value:function(e){return this.height=e,this}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setMargin",value:function(e){return this.margin=e,this}},{key:"getMargin",value:function(){return this.margin}},{key:"_getSize",value:function(e){return h(e)?P(e,5)+"px":e}},{key:"setStyle",value:function(e){return v(this.styles,e),this}},{key:"setTop",value:function(e){return this.top=e,this}},{key:"getTop",value:function(){return this.top}},{key:"setLeft",value:function(e){return this.left=e,this}},{key:"getLeft",value:function(){return this.left}},{key:"insertTo",value:function(e){return e&&e.children&&(e.children.push(this),this.parentNode=e),this}},{key:"addNode",value:function(e){return e&&(this.children.push(e),e.parentNode=this),this}},{key:"removeNode",value:function(e){d(e)&&e&&e._popo_id&&this.children.length>0&&_(this.children,"_popo_id",e._popo_id)}},{key:"clear",value:function(){this.children&&this.children.length>0&&(this.children.forEach(function(e){e.remove()}),this.children=[])}},{key:"remove",value:function(){var e=this;this.parentNode&&this.parentNode.removeNode(e),gn(this.realDom)&&(this.realDom.parentNode.removeChild(this.realDom),this.realDom=null),this.width=0,this.height=0,this.top=0,this.left=0,this.classNames="",this.styles={},this.children&&this.children.length>0&&(this.children.forEach(function(e){e.remove()}),this.children=[]),this.parentNode=null}},{key:"render",value:function(e){if(!e)return e;var t=he(e,"class"),n=t?T(a(t).concat(a(this.classNames))).join(" "):this.classNames;n&&he(e,"class",n);var i=this.width,o=this.height;return this.setStyle({width:i?this._getSize(i):"100%",height:o?this._getSize(o):"100%"}),void 0!==this.top&&this.setStyle({top:this._getSize(this.top)}),void 0!==this.left&&this.setStyle({left:this._getSize(this.left)}),void 0!==this.margin&&this.setStyle({margin:this._getSize(this.margin)}),c(this.styles)||te(e,this.styles),this[Nn.COMPONENT_ID_KEY]&&he(e,Nn.COMPONENT_ID_KEY,this[Nn.COMPONENT_ID_KEY]),this.role&&he(e,"data-popo-role",this.role),this.id&&(e.id=this.id),this.html&&(e.innerHTML=this.html),e}},{key:"setHtml",value:function(e){return e&&u(e)&&(this.html=e),this}},{key:"update",value:function(){var e=this.realDom;e&&(this.render(e),this.children.forEach(function(e){e.update()}))}},{key:"createElement",value:function(){var e=this.realDom||document.createElement(this.nodeName);return e._popo_id=this._popo_id,this.render(e),this.children.forEach(function(t){e.appendChild(t.createElement())}),this.realDom=e,e.vnode=this,e}},{key:"getLastChild",value:function(){var e=this.children,t=e.length;return t>0?e[t-1]:e[0]}},{key:"getNewId",value:function(){var e=this.getLastChild();return e?e.getId()+1:1}}]),e}(),Gn={container:"",rows:Nn.ROWS,cols:Nn.COLS,width:0,height:0,gutter:10,layout:null,layoutStartType:"row",fontScale:1,rem:1,fullId:0,fullZIndex:0,scroll:{x:!1,y:!1},drag:!1,panel:{enable:!1,default:{headHeight:0,footHeight:0,leftWidth:0,rightWidth:0,gutter:0,zIndex:Nn.PANEL_DEFAULT_ZINDEX},custom:[]},overflowVisible:!1,panelOverflow:{visible:"",overflowX:"",overflowY:""},dev:{enable:!1,panel:{show:!0,id:!0,size:!1,position:!1,background:"",fontSize:14,fontColor:"#333"},guideline:{show:!1,identifier:!0,lineSize:1,color:"rgba(0,0,0,.25)",zIndex:0,fontSize:14,fontColor:"#333"},panelGuideline:{show:!1,ids:"all",lineSize:.5,size:15,zIndex:0,color:"#888"},splitline:{show:!1,lineSize:1,width:100,height:100,color:"#000",zIndex:0,identifier:!0,fontColor:"#333333",fontSize:12},showIds:0},zoom:{enable:!1,control:!0,auto:!0,scale:0,ratio:.1,min:.1,max:1,position:"rightTop",wheelZoom:!0},focus:{id:0,offsetX:0,offsetY:0},lineHeight:null,hideIds:null,hideType:"panel",trackResize:!0,updateInterval:200,renderDelay:0,style:null,extends:[],onload:null,update:null,alias:null,env:"js"},Zn=Nn.NAME+"-",Fn={container:Zn+Nn.WRAP,inner:Zn+Nn.CONTAINER,zoomContainer:Zn+Nn.ZOOMCONTAINER,zoomPane:Zn+Nn.ZOOMPANE,pane:Zn+Nn.PANE,default:{panel:Zn+Nn.PANEL,panelContainer:Zn+Nn.PANEL_CONTAINER,head:Zn+Nn.GRID_HEAD,foot:Zn+Nn.GRID_FOOT,center:Zn+Nn.GRID_CENTER,right:Zn+Nn.GRID_RIGHT,left:Zn+Nn.GRID_LEFT,lcr:Zn+Nn.GRID_L_C_R},custom:null},jn=["baseFrequency","stdDeviation","viewBox","numOctaves","tableValues","markerWidth","markerHeight","refX","refY","patternUnits","patternTransform"].join(" "),Xn=function(){function e(t,n){fn(this,e),this.nodeName=t||"svg",this.attrs={},this.children=[],this.parentNode=null,this.realNode=null,this._stamp(),this.id=this._popo_id,this.styles={},this.style="",this.html="",n&&this.insertTo(n)}return dn(e,[{key:"_stamp",value:function(){var e="";switch(this.nodeName){case"filter":e=Nn.FILTER;break;case"linearGradient":e=Nn.LINER_GRADIENT;break;case"radialGradient":e=Nn.RADIAL_GRADIENT;break;case"marker":e=Nn.MARKER}t(this,e)}},{key:"_setId",value:function(){return this.attr({id:this.getId()}),this}},{key:"getId",value:function(){return this.attr("id")||Nn.DRAW_ID_KEY+"-"+this._popo_id}},{key:"setStyle",value:function(e){for(var t in e)this.styles[t]=e[t];return this}},{key:"attr",value:function(t,n){if(!t)return this;if(u(t))return void 0!==n&&null!==n?(jn.indexOf(t)<0&&(t=O(t)),this.attrs[t]=n,this):this.attrs[t];if(d(t))for(var i in t)if(d(t[i])&&t[i]instanceof e){var o=i;jn.indexOf(i)<0&&(o=O(i)),this.attrs[o]="url(#"+t[i].getId()+")"}else if(jn.indexOf(i)<0){var r=O(i);this.attrs[r]="id"===r?Nn.DRAW_ID_KEY+"-"+t[i]:t[i]}else this.attrs[i]=t[i];return this}},{key:"_filter",value:function(t,n){n=n||this;for(var i=0,o=t.length;i<o;i++){var r=t[i];for(var a in r){var l=new e(a,n),u={};if(s(r[a]))this._filter(r[a],l);else{for(var h in r[a])d(r[a][h])?new e(h,l).attr(r[a][h]):u[h]=r[a][h];l.attr(u)}}}return this}},{key:"_stops",value:function(t){for(var n=0;n<t.length;n++)new e("stop",this).attr({offset:b(t[n][0])+"%",stopColor:t[n][1]||"#333",stopOpacity:t[n][2]||1});return this}},{key:"insertTo",value:function(e){return e&&e.children&&(e.children.push(this),this.parentNode=e),this}},{key:"create",value:function(t,n){return new e(t,this).attr(n)}},{key:"add",value:function(e){return e&&(this.children.push(e),e.parentNode=this),this}},{key:"remove",value:function(e){return e&&e._popo_id&&this.children.length>0?_(this.children,"_popo_id",e._popo_id):this}},{key:"render",value:function(t){if(!c(this.styles)){var n="";for(var i in this.styles)d(this.styles[i])&&this.styles[i]instanceof e?n+=i+":url(#"+this.styles[i].getId()+");":n+=i+":"+this.styles[i]+";";n&&this.attr({style:n})}var o=this.attrs;for(var r in o)r.indexOf("xlink")>=0?t.setAttributeNS("http://www.w3.org/1999/xlink",r,o[r]):t.setAttribute(r,o[r]);"style"!==this.nodeName&&"text"!==this.nodeName||(t.innerHTML=this.html)}},{key:"setHtml",value:function(e){return e&&(this.html=e),this}},{key:"createElement",value:function(e){e&&this.attr({width:"0%",height:"0%"});var t=document.createElementNS("http://www.w3.org/2000/svg",this.nodeName);return this.render(t),this.children&&this.children.length>0&&this.children.forEach(function(e){"defs"===e.nodeName&&0===e.children.length||"style"===e.nodeName&&""===e.html||t.appendChild(e.createElement())}),this.realNode=t,e&&(t.style.width="0px",t.style.height="0px",t.style.zIndex=-9999,t.style.position="fixed",t.style.top="-100%",t.style.left="-100%"),t}}]),e}(),Yn=function(e){function t(e,n,i){fn(this,t);var o=pn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o.attr({width:"100%",height:"100%"}),o.globalStyle=new Xn("style",o),o.defs=new Xn("defs",o),o._setId(),o}return cn(t,e),dn(t,[{key:"def",value:function(e){return this.defs._getDefById(e)||""}},{key:"_getDefById",value:function(e){for(var t=0,n=this.children.length;t<n;t++){var i=this.children[t].getId();if(i&&(i===e||i===Nn.DRAW_ID_KEY+"-"+e))return"url(#"+i+")"}return""}},{key:"addGlobalStyle",value:function(e){return this.globalStyle.html+=e,this}},{key:"addRG",value:function(e,t,n,i){return i=i||[[0,"#333",1],[1,"#555",1]],new Xn("radialGradient",this.defs)._setId().attr({cx:e,cy:t,r:n})._stops(i)}},{key:"addLG",value:function(e,t,n,i,o){return e=b(e)+"%",t=b(t)+"%",n=b(n,1)+"%",i=b(i)+"%",o=o||[[0,"#333",1],[1,"#555",1]],new Xn("linearGradient",this.defs)._setId().attr({x1:e,x2:n,y1:t,y2:i})._stops(o)}},{key:"g",value:function(e){var t=new Xn("g",this)._setId();s(e)&&e.forEach(function(e){new Xn("path",t)})}},{key:"addFilter",value:function(e){return new Xn("filter",this.defs)._setId()._filter(e)}},{key:"addMarker",value:function(e,t){var n=new Xn("marker",this.defs)._setId().attr(e);return new Xn("circle",n).attr({cx:5,cy:5,r:4,fill:"none",stroke:t||"#ffffff",strokeWidth:1}),n}},{key:"addPattern",value:function(e){var t=new Xn("pattern",this.defs)._setId().attr(e),n=t.attrs,i=n.width,o=n.height;return new Xn("line",t).attr({x1:i/2,y1:0,x2:i/2,y2:o,strokeWidth:i/2,stroke:"rgba(0,0,0,.2)"}),t}},{key:"create",value:function(e,t){return new Xn(e,this).attr(t)}}]),t}(Xn),Un={size:{width:0,height:0,responsive:!0},position:{left:0,top:0,responsive:!0},id:"",className:"",zIndex:Nn.PANEL_DEFAULT_ZINDEX,layout:null,isWidget:!1},Bn={_onDragStart:function(e){Ee(e);var t=this._scrollPane;if(gn(t)){var n=e.clientX,i=e.clientY,o=t.scrollLeft,r=t.scrollTop;this._startDrag={x:n,y:i,width:de(t,"width"),height:de(t,"height"),left:o,top:r},J(t,Nn.NAME+"-grabbing"),we(t,"mousemove",this._onDragging,this),we(t,"mouseup",this._onDragend,this)}},_onDragging:function(e){var t=this._scrollPane,n=this._startDrag;gn(t)&&d(n)&&(t.scrollLeft=(n.left||0)-e.clientX+n.x,t.scrollTop=(n.top||0)-e.clientY+n.y)},_onDragend:function(e){Ne(this._scrollPane,"mousemove",this._onDragging,this),Q(this._scrollPane,Nn.NAME+"-grabbing")},disableDrag:function(){var e=this._scrollPane;gn(e)&&(Ne(e,"mousedown",this._onDragStart,this),Ne(e,"mousemove",this._onDragging,this),Ne(e,"mouseup",this._onDragend,this),this._startDrag=null,Q(e,Nn.NAME+"-grab"))},enableDrag:function(){var e=this.options;if(e.drag&&this._pane){var t=Yt(e,this._pane);gn(t)&&(this._scrollPane=t,J(t,Nn.NAME+"-grab"),we(t,"mousedown",this._onDragStart,this))}}},Kn={_resize:function(){var e=this,t=this.options,i=this._pane,o=this.vc,r=t.updateInterval;if(!this._onResize&&t.trackResize){var a=t.renderDelay>0?Math.max(r,t.renderDelay):r;this._onResize=k(function(r,a){t.trackResize&&(t.zoom.enable?Bt(o,i,e.scale):(e.update(),"function"==typeof t.update&&t.update(e),"function"==typeof r&&n(r,a)(e)))},a,this),we(window,"resize",this._onResize,this)}},_removeResize:function(){this._onResize&&(Ne(window,"resize",this._onResize,this),this._onResize=null)}},Vn={_performZoom:function(e){var t=this.options.zoom.ratio;this.zoom(this.scale+(this._wheelScroll.delta>0?t:-t),e)},_onWheelScroll:function(e){var t=this;Ee(e);var n=Ie(e),i=this._wheelScroll.startTime;this._wheelScroll.delta=n,i||(this._wheelScroll.startTime=+new Date);var o=Math.max(Nn.DEBOUNCE-(+new Date-i),0);clearTimeout(this._wheelScroll.timer),this._wheelScroll.timer=setTimeout(function(){t._performZoom({x:e.offsetX,y:e.offsetY})},o)},enableScrollWheel:function(){this.disableScrollWheel(),this._scrollPane||(this._scrollPane=Yt(this.options,this._pane)),this._wheelScroll={delta:0,startTime:0,timer:0},we(this._scrollPane,"mousewheel",this._onWheelScroll,this)},disableScrollWheel:function(){this._scrollPane&&Ne(this._scrollPane,"mousewheel",this._onWheelScroll,this)}},qn=function(){function e(t){fn(this,e);var n=this.options=I(Gn,t),i=this.container=n.container?y(n.container):null;this._initOptions(),this._fullId=n.fullId,this._fullZIndex=n.fullZIndex||0,this._hideIds=n.hideIds||[],this._showIds=n.dev.showIds||[],this.style=I(Fn,n.style||{}),this._sizes=Te(n.rows,n.cols),this._vc=Ke(),t.uuid&&(this.uuid=t.uuid),Ge(n)&&(Ze(n,this._vc),gn(i)&&this._initContainer())}return dn(e,[{key:"_initOptions",value:function(){var e=this.options,t=o(e.fontScale,.1);e.padding=G(e.padding,t),d(e.panel.custom)&&(e.panel.custom=[e.panel.custom]),s(e.panel.custom)&&(e.panel.custom=e.panel.custom.map(function(e){return I({headHeight:0,footHeight:0,leftWidth:0,rightWidth:0,gutter:0,zIndex:Nn.PANEL_DEFAULT_ZINDEX},e)})),d(e.widgets)&&(e.widgets.isWidget=!0),s(e.widgets)&&e.widgets.forEach(function(e){e.isWidget=!0});var n=document.documentElement;if("16px"===te(n,"fontSize")&&e.rem>1){var i=A(e.rem);te(n,{fontSize:h(i)?C(i):e.rem})}}},{key:"_initContainer",value:function(){var e=this._vc,t=this.container,n=this.options,i=this._sizes;if(e&&t&&n&&i){$e(t),this._oldContainerStyle={display:fe(t,"display")},"static"===fe(t,"position")&&n.zoom.enable&&(this._oldContainerStyle.position="static",te(t,{position:"relative"})),Kt(t,!1);var o=this.style;o&&zt(t,o.container,!0),Nt(t)&&(n.updateInterval+=50);var r=this._zoomContainer=wt(t,n),a=n.scroll,l={},s=this._pane=Be(n);n.zoom.enable&&(n.drag=!0),n.zoom.enable||n.overflowVisible?l.overflow="visible":a.x&&a.y?l.overflow="auto":a.x&&!a.y?(l.overflowX="auto",l.overflowY="hidden"):!a.x&&a.y&&(l.overflowY="auto",l.overflowX="hidden"),te(r,l),te(r.parentNode,{overflow:n.overflowVisible?"visible":"hidden"}),r.appendChild(s),Fe(e,s,i,n,this._vpanels=[]),n.panel&&n.panel.enable&&Ue(e,n),Qe(e,n.extends,n,!0),Qe(e,n.widgets,n,!0),At(e,n),this._fullId&&Ot(e,this._getId(this._fullId),this._fullZIndex),te(t,{display:"none"}),Lt(t,e,r,r.parentNode,n,s,this.style),this._render()}}},{key:"_render",value:function(){var e=this,t=this._pane,n=this.options;if(t&&n){var i=n.renderDelay;i>0&&n.updateInterval>0&&(i=Math.max(i,n.updateInterval)),i>0?setTimeout(function(){e._onRender()},i||0):this._onRender()}}},{key:"_onRender",value:function(){var e=this._vc,t=this.container,n=this._pane,i=this.options;if(t&&e&&i){var r=this._showIds;if(r&&(this._hideIds=bt(r,this.getIds())||this._hideIds),Et(this._hideIds,e,i,r&&r.length>0),n.appendChild(Ve(e)),i.dev.enable&&rn(n,e,i),Ft(t,e,i),this._resize(),te(t,{display:this._oldContainerStyle.display}),this._updateSize(),i.zoom.enable){var a=o(i.zoom.auto?Math.min(t.clientHeight/this.height,t.clientWidth/this.width):i.zoom.scale,Nn.MIN_ZOOM,Nn.MAX_ZOOM);this._initZoomEvent(),this.zoom(a),i.zoom.wheelZoom&&this.enableScrollWheel()}if(i.drag&&this.enableDrag(),i.focus.id){var l=i.focus,s=l.id,u=l.offsetX,h=l.offsetY;this.focus(s,u,h)}Gt(e,i.lineHeight),i.onload&&"function"==typeof i.onload&&i.onload(this)}}},{key:"_initZoomEvent",value:function(){var e=this,t=this.options,n=this.container,i=t.zoom;if(i.enable&&i.control){var o=se(n,"."+Nn.ZOOMIN),r=se(n,"."+Nn.ZOOMOUT),a=i.ratio;this._zoomInfoPane=se(n,"."+Nn.ZOOMINFO),gn(o)&&gn(r)&&(we(o,"click",function(){e.zoom(e.scale+a)},this),we(r,"click",function(){e.zoom(e.scale-a)},this))}}},{key:"_getId",value:function(e){return h(e)?e:ot(this._vc,e,this.options.alias)}},{key:"_getNode",value:function(e,t){return ut(this._vc,this._getId(e),t||Nn.PANEL)}},{key:"getOption",value:function(){return this.options}},{key:"getPanelCount",value:function(){return this.getIds().length}},{key:"getIds",value:function(){return qe(this._vc)}},{key:"getAliasName",value:function(){var e=this.options.alias;return e&&s(e)?e.map(function(e){return e.name}):[]}},{key:"getAlias",value:function(e){var t=this.options.alias;if(void 0===e)return t;var n=(s(e)?e:[e]).map(function(e){return nt(t,pe(e))});return 1===n.length?n[0]:n}},{key:"getContainer",value:function(){return this.container}},{key:"zoom",value:function(e){var t=this._pane,n=this._vc,i=this.options,r=this._zoomContainer,a=this.$width(),l=this.$height(),s={};if(!(i.zoom.enable&&h(e)&&this.scale!==e&&n&&t&&i))return this;this.scale=e=o(e,i.zoom.min,i.zoom.max),gn(this._zoomInfoPane)&&(this._zoomInfoPane.innerHTML=P(e,1)),s[In]="scale("+e+")",te(t,s);var u=ce(r.parentNode),f=(u.height-l*e)/2,d=(u.width-a*e)/2;return(f<0||1===e)&&(f=0),(d<0||1===e)&&(d=0),te(r,{width:a*e+"px",height:l*e+"px",paddingTop:f+"px",paddingLeft:d+"px"}),this}},{key:"focus",value:function(e,t,n){return Ut(this._vc,this._pane,this.options,e,t||0,n||0),this}},{key:"get",value:function(e){var t=this;if(!e)return null;var n=(s(e)?e:[e]).map(function(e){return st(t._vc,pe(e),t.options)});return 1===n.length?n[0]:n}},{key:"getAll",value:function(){return this.get(this.getIds())}},{key:"_getXComponent",value:function(e,t){var n=this.get(e);return s(n)?n.map(function(e){return e&&e[t]}):n&&n[t]}},{key:"panel",value:function(e){return this._getXComponent(e,"panel")}},{key:"wrap",value:function(e){return this._getXComponent(e,"wrap")}},{key:"center",value:function(e){return this._getXComponent(e,"center")}},{key:"head",value:function(e){return this._getXComponent(e,"head")}},{key:"left",value:function(e){return this._getXComponent(e,"left")}},{key:"right",value:function(e){return this._getXComponent(e,"right")}},{key:"foot",value:function(e){return this._getXComponent(e,"foot")}},{key:"clearPanel",value:function(e,t){var n=this;return e&&(s(e)?e:[e]).forEach(function(e){var i=n._getNode(pe(e));i&&(t||jt(i,n.container,n._vc,n.options),i.clear(),i.update())}),this}},{key:"clearAllPanel",value:function(e){return this.clearPanel(this._vpanels,e)}},{key:"_setPanel",value:function(e){var t=this,n=e.panels,i=e.headHeight,o=void 0===i?0:i,r=e.footHeight,a=void 0===r?0:r,l=e.leftWidth,u=void 0===l?0:l,h=e.rightWidth,f=void 0===h?0:h,c=e.gutter,p=void 0===c?0:c,v=this.options.panel;if(n&&(s(n)||(n=[n]),v.custom||(v.custom=[]),d(v.custom)&&(v.custom=[v.custom]),s(v.custom))){this.clearPanel(n);var g=n.map(function(e){return t._getNode(pe(e))});v.custom.forEach(function(e,i){if(e.panels===n)return void v.custom.splice(i,1);s(e.panels)||(e.panels=[e.panels]);var o=!1;e.panels.forEach(function(i,r){var a=t._getId(i);n.forEach(function(t){if(a===t)return e.panels.splice(r,1),void(o=!0)})})}),v.custom=v.custom.filter(function(e){return e.panels.length>0});var m={panels:n,headHeight:o,footHeight:a,leftWidth:u,rightWidth:f,gutter:p};v.custom.push(m),g.forEach(function(e){Ye(e,m,t.options.fontScale),e.createElement()})}}},{key:"setPanelLayout",value:function(e){var t=this;return e&&((s(e)?e:[e]).forEach(function(e){return t._setPanel(e)}),this.update()),this}},{key:"_updatePanel",value:function(e){var t=this,n=e.panels,i=e.left,o=e.top,r=e.width,a=e.height,l=e.zIndex;return(s(n)?n:[n]).forEach(function(e){var n=t._getNode(pe(e));if(n){if(i){var s=n.percentLeft=z(i)?L(i):null;null!==s&&(i=s),h(i)&&(void 0===n._oldLeft&&(n._oldLeft=n.getLeft()),n.setLeft(null!==s?i*t.width:i))}if(o){var u=n.percentTop=z(o)?L(o):null;null!==u&&(o=u),h(o)&&(void 0===n._oldTop&&(n._oldTop=n.getTop()),n.setTop(null!==u?o*t.height:o))}if(h(l)&&(void 0===n._oldZIndex&&(n._oldZIndex=n.styles.zIndex),n.setStyle({zIndex:l})),void 0!==r&&null!==r){r=r||n.width;var f=n.percentWidth=z(r)?L(r):null;null!==f&&(r=f),h(r)&&(void 0===n._oldWidth&&(n._oldWidth=n.getWidth()),n.setWidth(null!==f?r*t.width:r))}if(void 0!==a&&null!==a){a=a||n.height;var d=n.percentHeight=z(a)?L(a):null;null!==d&&(a=d),h(a)&&(void 0===n._oldHeight&&(n._oldHeight=n.getHeight()),n.setHeight(null!==d?a*t.height:a))}(void 0!==n._oldWidth||void 0!==n._oldHeight||n._classChange||n._styleChange)&&Gt(t._vc,t.options.lineHeight),n.update()}}),this}},{key:"_restorePanel",value:function(e){var t=this,n=e.panels,i=e.size,o=void 0===i||i,r=e.position,a=void 0===r||r,l=e.zIndex,u=void 0===l||l;(s(n)?n:[n]).forEach(function(e){var n=t._getNode(pe(e));n&&(a&&(void 0!==n._oldLeft&&n.setLeft(n._oldLeft),void 0!==n._oldTop&&n.setTop(n._oldTop)),o&&(void 0!==n._oldWidth&&n.setWidth(n._oldWidth),void 0!==n._oldHeight&&n.setHeight(n._oldHeight)),u&&void 0!==n._oldZIndex&&n.setStyle({zIndex:n._oldZIndex}),n.update())})}},{key:"restore",value:function(e){var t=this;return void 0===e?this._restorePanel({panels:this.getIds(),size:!0,position:!0,zIndex:!0}):(s(e)?e:[e]).forEach(function(e){e.panels&&t._restorePanel(e)}),this}},{key:"$top",value:function(e){var t=this._getNode(pe(e));return t?t.getTop():0}},{key:"$left",value:function(e){var t=this._getNode(pe(e));return t?t.getLeft():0}},{key:"$width",value:function(e,t){if(0===arguments.length)return this.width;var n=e;if(!gn(e)){var i=this._getNode(pe(e),t);n=i&&i.realDom}return gn(n)?de(n,"width"):-1}},{key:"$height",value:function(e,t){if(0===arguments.length)return this.height;var n=e;if(!gn(e)){var i=this._getNode(pe(e),t);n=i&&i.realDom}return gn(n)?de(n,"height"):-1}},{key:"show",value:function(e){var t=this,n=this.container;return!e&&n&&oe(n)?te(n,{display:"block"}):(s(e)?e:[e]).forEach(function(e){var n=t._getId(pe(e)),i=t.panel(n);if(gn(i)&&oe(i)){var o=R(t._hideIds,n);o>=0&&t._hideIds.splice(o,1),te(i,{display:"block"})}}),this}},{key:"hide",value:function(e){var t=this,n=this.container;if(e||!n||oe(n)){var i=[];(s(e)?e:[e]).forEach(function(e){var n=t._getId(pe(e));i.push(n),R(t._hideIds,n)<0&&t._hideIds.push(n)}),Et(i,this._vc,this.options)}else te(n,{display:"none"});return this}},{key:"each",value:function(e,t,n){var i=t?(s(t),t).map(function(e){return pe(e)}):this.getIds();return xt(this._vc,this.options,e,i,n),this}},{key:"remove",value:function(e,t){var n=this;return 0===arguments.length?this._remove():(s(e)?e:[e]).forEach(function(e){var i=n._getNode(pe(e));i&&i.remove&&(t||jt(i,n.container,n._vc,n.options),i.remove())}),this}},{key:"addPanel",value:function(e){var t=this.options,n=Je(this._vc,t.padding,e,t.fontScale,!0);return this._vc.realDom&&n&&this._vc.realDom.appendChild(n.createElement()),this.get(n.getId())}},{key:"_remove",value:function(){var e=this._pane,t=this._oldContainerStyle,n=this.container;Xt(n,this._vc,this.options),this.removeStyle(),this.disableDrag(),this._removeResize(),this._sizes=null,this._fullId=0,this._fullZIndex=0,this._showIds=null,this._hideIds=null,this.style=null,this._vc.remove(),gn(e)&&e.parentNode&&e.parentNode.removeChild(e),le(Nn.ZOOMPANE,n),le(Nn.EXT_PANE,n),this._pane=null,this._vc=null,this._vpanels=null,this._scrollPane=null,this.options=null,t&&t.position&&te(n,{position:t.position}),this.container=null,this._oldContainerStyle=null,this._oldBodyScroll=null,this._popo_id=0,this._zoomContainer=null,this._zoomInfoPane=null,this.width=0,this.height=0}},{key:"full",value:function(e,t){if(e){var n=this._getId(pe(e));h(n)&&n>0&&(this._fullId>0&&this.unFull(),this._fullId=n,this._fullZIndex=t||0,this.update())}return this}},{key:"unFull",value:function(){return this._fullId>0&&Dt(this._vc,this._getId(this._fullId))&&(this._fullId=0,this._fullZIndex=0,this.update()),this}},{key:"_updateSize",value:function(){var e=Mt(this._vc,this.options);e&&(this.width=e.width,this.height=e.height)}},{key:"update",value:function(e){var t=this;return void 0===e?(Wt(this._vc,this._pane,this._sizes,this.options,this._getId(this._fullId),this._fullZIndex||0),this._updateSize()):((s(e)?e:[e]).forEach(function(e){d(e)&&t._updatePanel(e)}),this.update()),this}},{key:"setBodyScroll",value:function(){var e=document.body,t=this._zoomContainer;return t&&t.parentNode&&(this._oldBodyScroll={body:e.style.overflow,zc:t.style.overflow,zcParent:t.parentNode.style.overflow},te(document.body,{overflowY:"auto"}),te(this._zoomContainer.parentNode,{overflow:"visible"}),te(this._zoomContainer,{overflow:""})),this}},{key:"resetBodyScroll",value:function(){var e=this._oldBodyScroll;if(e){var t=document.body,n=this._zoomContainer;this._oldBodyScroll={body:t.style.overflow,zc:n.style.overflow,zcParent:n.parentNode.style.overflow},te(document.body,{overflow:e.body}),te(this._zoomContainer.parentNode,{overflow:e.zc}),te(this._zoomContainer,{overflow:e.zcParent}),this._oldBodyScroll=null}return this}},{key:"_setStyle",value:function(e,t){if(d(e)){var n=this._vc,i=this.options,o=this.container,r=this._zoomContainer;c(this.style)||St(o,n,i,this.style),this.style=t?I(this.style,e):e,Lt(o,n,r,r.parentNode,i,this._pane,this.style,!0)}return this}},{key:"setStyle",value:function(e){return this._setStyle(e,!1)}},{key:"updateStyle",value:function(e){return this._setStyle(e,!0)}},{key:"removeStyle",value:function(){var e=this.style,t=this._vc,n=this.options,i=this.container;return e&&(St(i,t,n,e),this.style=null),this}},{key:"addTo",value:function(e,t){var n=this;if(this.container)throw new Error(Wn.POPO_EXSIT);var i=y(e);return i&&gn(i)&&(this.container=i,t>0?setTimeout(function(){n._initContainer()},t):this._initContainer()),this}}]),e}();g(qn.prototype,[Bn,Kn,Vn]);var $n=[],Jn=n,Qn=I,ei=i,ti=J,ni=q,ii=Q,oi=te,ri=he,ai=oe,li=ne,si=ie,ui=window&&window.P;e.DomUtil=On,e.DomEvent=Mn,e.Util=En,e.Browser=kn,e.addClass=ti,e.hasClass=ni,e.removeClass=ii,e.css=oi,e.attr=ri,e.isHidden=ai,e.create=li,e.html=si,e.bind=Jn,e.merge=Qn,e.extend=ei,e.noConflict=un,e.version="1.3.3",e.validateLayoutExp=De,e.init=an,e.dispose=sn,e.getInstanceByDom=ln,Object.defineProperty(e,"__esModule",{value:!0})})}]);